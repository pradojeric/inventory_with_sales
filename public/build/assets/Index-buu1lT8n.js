import{r as t,j as e,a as k}from"./app-LFVcxj7R.js";import{A}from"./AuthenticatedLayout-_WFbxlKp.js";import E from"./AddProduct-EQrMfwVQ.js";import R from"./EditProduct-tmJUTqhc.js";import{formatNumber as i}from"./Util-py14zHy8.js";import{A as T,B as o,S as _,T as B,a as s}from"./Toast-l3bA4Sul.js";import"./ApplicationLogo-8z1exNeo.js";import"./index-XUnKk2P5.js";import"./AddCategory-3mNvTziy.js";import"./Modal-wbw-UJO-.js";import"./transition-nGBYlTIw.js";import"./index-nJ-AqiMt.js";import"./EditCategory-6q95rRjY.js";function U({auth:y,flash:n,products:a,categories:r}){const[v,N]=t.useState(!1),[g,w]=t.useState(!1),[c,x]=t.useState(""),[h,m]=t.useState(""),[u,j]=t.useState(a),[C,H]=t.useState(null),f=()=>{N(l=>l=!l)},p=()=>{w(l=>l=!l)},S=l=>()=>{H(l),p()};t.useEffect(()=>{P()},[a]);const P=()=>{const l=a.filter(d=>d.name.toLowerCase().indexOf(h.toLowerCase())>-1&&(d.category_id==c||!c));j(l)},b=()=>{j(a),x(""),m("")};return e.jsxs(A,{user:y.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Products List"}),children:[e.jsx(k,{title:"Products"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hiden shadow-sm sm:rounded-lg max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"p-2 text-gray-900 md:w-auto w-screen",children:[n.message&&e.jsx(T,{color:"success",children:n.message}),e.jsx(E,{show:v,categories:r,onClose:f}),C&&e.jsx(R,{product:C,show:g,categories:r,onClose:p}),e.jsx("div",{className:"flex justify-end mb-2",children:e.jsx(o,{type:"button",onClick:f,children:"Add Product"})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 mb-2",children:[e.jsxs(_,{value:c,onChange:l=>x(l.target.value),className:"flex-shrink-0",children:[e.jsx("option",{value:"",children:"All Categories"}),r.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id+"cat"))]}),e.jsx(B,{type:"text",placeholder:"Search Product",className:"w-full",value:h,onChange:l=>m(l.target.value)}),e.jsx(o,{type:"button",onClick:P,children:"Search"}),e.jsx(o,{type:"button",color:"light",onClick:b,children:"Clear"})]}),e.jsx("div",{className:"overflow-x-auto max-h-full",children:e.jsxs(s,{striped:!0,children:[e.jsxs(s.Head,{className:"top-0 sticky",children:[e.jsx(s.HeadCell,{children:"Product name"}),e.jsx(s.HeadCell,{children:"Category"}),e.jsx(s.HeadCell,{children:"SRP"}),e.jsx(s.HeadCell,{children:"Retail Price"}),e.jsx(s.HeadCell,{children:"WholeSale Price"}),e.jsx(s.HeadCell,{children:"Quantity"}),e.jsx(s.HeadCell,{children:e.jsx("span",{className:"sr-only",children:"Edit"})})]}),e.jsx(s.Body,{className:"divide-y",children:u.map(l=>e.jsxs(s.Row,{children:[e.jsxs(s.Cell,{children:[e.jsx("div",{className:"font-semibold",children:l.product_name}),e.jsx("div",{className:"text-xs italic",children:l.description})]}),e.jsx(s.Cell,{children:l.category.name}),e.jsx(s.Cell,{children:i(l.price)}),e.jsx(s.Cell,{children:i(l.retail_price)}),e.jsx(s.Cell,{children:i(l.wholesale_price)}),e.jsx(s.Cell,{children:l.quantity}),e.jsx(s.Cell,{children:e.jsx("a",{href:"#",onClick:S(l),className:"font-medium text-cyan-600 hover:underline dark:text-cyan-500",children:"Edit"})})]},"pro"+l.id))}),e.jsxs(s.Head,{className:"sticky bottom-0",children:[e.jsx(s.HeadCell,{}),e.jsx(s.HeadCell,{}),e.jsx(s.HeadCell,{}),e.jsx(s.HeadCell,{}),e.jsx(s.HeadCell,{children:"Total Stocks"}),e.jsx(s.HeadCell,{children:u.reduce((l,d)=>l+d.quantity,0)}),e.jsx(s.HeadCell,{})]})]})})]})})})})]})}export{U as default};

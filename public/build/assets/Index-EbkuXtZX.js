import{r as t,j as e,a as k}from"./app-jOMKqZ42.js";import{A}from"./AuthenticatedLayout-Pr9jd9q1.js";import E from"./AddProduct-6JB1451q.js";import R from"./EditProduct-Ied9pwe_.js";import{formatNumber as c}from"./Util-py14zHy8.js";import{A as T,B as o,S as _,T as B,a as l}from"./Toast-8aqilxEi.js";import"./ApplicationLogo-ZdBNHtfl.js";import"./index-Cn3kJYtV.js";import"./AddCategory-K6EDTxP4.js";import"./Modal-00af32M3.js";import"./transition-MX07-MAR.js";import"./index-M8ENx_PA.js";import"./EditCategory-p97KQU5w.js";function U({auth:y,flash:n,products:a,categories:r}){const[N,g]=t.useState(!1),[v,H]=t.useState(!1),[i,x]=t.useState(""),[h,m]=t.useState(""),[j,u]=t.useState(a),[C,S]=t.useState(null),f=()=>{g(s=>s=!s)},p=()=>{H(s=>s=!s)},w=s=>()=>{S(s),p()};t.useEffect(()=>{P()},[a]);const P=()=>{const s=a.filter(d=>d.name.toLowerCase().indexOf(h.toLowerCase())>-1&&(d.category_id==i||!i));u(s)},b=()=>{u(a),x(""),m("")};return e.jsxs(A,{user:y.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Products List"}),children:[e.jsx(k,{title:"Products"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[n.message&&e.jsx(T,{color:"success",children:n.message}),e.jsx(E,{show:N,categories:r,onClose:f}),C&&e.jsx(R,{product:C,show:v,categories:r,onClose:p}),e.jsx("div",{className:"flex justify-end mb-2",children:e.jsx(o,{type:"button",onClick:f,children:"Add Product"})}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs(_,{value:i,onChange:s=>x(s.target.value),className:"flex-shrink-0",children:[e.jsx("option",{value:"",children:"All Categories"}),r.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id+"cat"))]}),e.jsx(B,{type:"text",placeholder:"Search Product",className:"w-full",value:h,onChange:s=>m(s.target.value)}),e.jsx(o,{type:"button",onClick:P,children:"Search"}),e.jsx(o,{type:"button",color:"light",onClick:b,children:"Clear"})]}),e.jsx("div",{className:"overflow-y-auto max-h-96",children:e.jsxs(l,{striped:!0,children:[e.jsxs(l.Head,{className:"top-0 sticky",children:[e.jsx(l.HeadCell,{children:"Product name"}),e.jsx(l.HeadCell,{children:"Category"}),e.jsx(l.HeadCell,{children:"SRP"}),e.jsx(l.HeadCell,{children:"Retail Price"}),e.jsx(l.HeadCell,{children:"WholeSale Price"}),e.jsx(l.HeadCell,{children:"Quantity"}),e.jsx(l.HeadCell,{children:e.jsx("span",{className:"sr-only",children:"Edit"})})]}),e.jsx(l.Body,{className:"divide-y",children:j.map(s=>e.jsxs(l.Row,{children:[e.jsxs(l.Cell,{children:[e.jsx("div",{className:"font-semibold",children:s.product_name}),e.jsx("div",{className:"text-xs italic",children:s.description})]}),e.jsx(l.Cell,{children:s.category.name}),e.jsx(l.Cell,{children:c(s.price)}),e.jsx(l.Cell,{children:c(s.retail_price)}),e.jsx(l.Cell,{children:c(s.wholesale_price)}),e.jsx(l.Cell,{children:s.quantity}),e.jsx(l.Cell,{children:e.jsx("a",{href:"#",onClick:w(s),className:"font-medium text-cyan-600 hover:underline dark:text-cyan-500",children:"Edit"})})]},"pro"+s.id))}),e.jsxs(l.Head,{className:"sticky bottom-0",children:[e.jsx(l.HeadCell,{}),e.jsx(l.HeadCell,{}),e.jsx(l.HeadCell,{}),e.jsx(l.HeadCell,{}),e.jsx(l.HeadCell,{children:"Total Stocks"}),e.jsx(l.HeadCell,{children:j.reduce((s,d)=>s+d.quantity,0)}),e.jsx(l.HeadCell,{})]})]})})]})})})})]})}export{U as default};

import{r,j as a}from"./app-BdE4YzGR.js";import{M as g}from"./Modal-Vyw7hR-r.js";import{L as p,T as j,S as q,B as v}from"./Toast-J2amxNlV.js";import{formatNumber as u}from"./Util-py14zHy8.js";import"./transition-3YiIzA00.js";function R({item:s=null,show:o=!1,onClose:d=()=>{},onSave:f=()=>{}}){r.useState(!1);const[e,c]=r.useState(),[x,t]=r.useState(1);r.useState(1);const[y,N]=r.useState(0),[i,h]=r.useState(0);return r.useEffect(()=>{c({...s,newPrice:s==null?void 0:s.retail_price,totalQuantity:1}),h(s==null?void 0:s.retail_price),t(1)},[o]),a.jsx(a.Fragment,{children:a.jsxs(g,{show:o,onClose:d,closeable:!1,maxWidth:"md",children:[a.jsx("div",{className:"w-screen"}),a.jsx("form",{children:a.jsxs("div",{className:"p-6 text-gray-900",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 uppercase",children:"Add Item"}),a.jsx("hr",{}),a.jsx("div",{className:"uppercase text-xl font-semibold mt-2",children:e==null?void 0:e.product_name}),a.jsxs("div",{className:"text-gray-700 text-sm",children:[e==null?void 0:e.quantity," items left"]}),a.jsx("div",{className:"text-xs",children:"SRP: "+u(e==null?void 0:e.price)}),a.jsx("div",{className:"text-xs",children:"Retail: "+u(e==null?void 0:e.retail_price)}),a.jsx("div",{className:"text-xs",children:"Wholesale: "+u(e==null?void 0:e.wholesale_price)}),a.jsxs("div",{className:"mb-2",children:[a.jsx("div",{className:"mb-2 block",children:a.jsx(p,{htmlFor:"quantity",value:"Quantity"})}),a.jsx(j,{type:"number",id:"quantity",value:x,onChange:l=>{const n=Math.min(s==null?void 0:s.quantity,Math.max(0,l.target.value)),b=Math.max(0,Math.min(s==null?void 0:s.quantity,(s==null?void 0:s.quantity)-n));t(n),c({...e,quantity:b,totalQuantity:n})},required:!0})]}),a.jsxs("div",{className:"mb-2 w-full",children:[a.jsx("div",{className:"mb-2 block",children:a.jsx(p,{htmlFor:"price",value:"Price"})}),a.jsxs("div",{className:"flex space-x-2",children:[i=="custom"&&a.jsx(j,{type:"number",id:"quantity",value:y,min:"0",onChange:l=>{N(l.target.value),c({...e,newPrice:l.target.value})},required:!0}),a.jsxs(q,{className:"w-full",value:i,onChange:l=>{h(l.target.value),l.target.value!="custom"&&c({...e,newPrice:Number(l.target.value)})},children:[a.jsx("option",{value:s==null?void 0:s.price,children:"SRP - "+(s==null?void 0:s.price)}),a.jsx("option",{value:s==null?void 0:s.retail_price,children:"Retail - "+(s==null?void 0:s.retail_price)}),a.jsx("option",{value:s==null?void 0:s.wholesale_price,children:"Wholesale - "+(s==null?void 0:s.wholesale_price)}),a.jsx("option",{value:"custom",children:"Custom"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(v,{type:"button",color:"light",onClick:d,children:"Close"}),a.jsx(v,{onClick:()=>{f(e),t("")},type:"button",disabled:x<1,children:"Save"})]})]})})]})})}export{R as default};

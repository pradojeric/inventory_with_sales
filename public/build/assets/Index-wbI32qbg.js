import{r as t,j as e,a as k}from"./app-WAcuAQYG.js";import{A}from"./AuthenticatedLayout-Lew2t8BI.js";import E from"./AddProduct-79q1t8-Z.js";import R from"./EditProduct-xe2z23Vs.js";import{formatNumber as i}from"./Util-py14zHy8.js";import{A as T,B as o,S as _,T as B,a as l}from"./Toast-xa_T1Asx.js";import"./ApplicationLogo-UB9_MBiy.js";import"./index-izUsY6vX.js";import"./AddCategory-pQXez6eG.js";import"./Modal-KXOwnuWY.js";import"./transition-mcgITBB2.js";import"./index-Lwq12Hk5.js";import"./EditCategory-iIr_fcDJ.js";function U({auth:y,flash:n,products:a,categories:r}){const[N,g]=t.useState(!1),[v,H]=t.useState(!1),[c,x]=t.useState(""),[h,m]=t.useState(""),[u,j]=t.useState(a),[C,S]=t.useState(null),f=()=>{g(s=>s=!s)},p=()=>{H(s=>s=!s)},w=s=>()=>{S(s),p()};t.useEffect(()=>{P()},[a]);const P=()=>{const s=a.filter(d=>d.name.toLowerCase().indexOf(h.toLowerCase())>-1&&(d.category_id==c||!c));j(s)},b=()=>{j(a),x(""),m("")};return e.jsxs(A,{user:y.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Products List"}),children:[e.jsx(k,{title:"Products"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white shadow-sm sm:rounded-lg max-h-[70%] overflow-y-auto",children:e.jsxs("div",{className:"p-2 text-gray-900 md:w-auto w-screen",children:[n.message&&e.jsx(T,{color:"success",children:n.message}),e.jsx(E,{show:N,categories:r,onClose:f}),C&&e.jsx(R,{product:C,show:v,categories:r,onClose:p}),e.jsx("div",{className:"flex justify-end mb-2",children:e.jsx(o,{type:"button",onClick:f,children:"Add Product"})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 mb-2",children:[e.jsxs(_,{value:c,onChange:s=>x(s.target.value),className:"flex-shrink-0",children:[e.jsx("option",{value:"",children:"All Categories"}),r.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id+"cat"))]}),e.jsx(B,{type:"text",placeholder:"Search Product",className:"w-full",value:h,onChange:s=>m(s.target.value)}),e.jsx(o,{type:"button",onClick:P,children:"Search"}),e.jsx(o,{type:"button",color:"light",onClick:b,children:"Clear"})]}),e.jsx("div",{className:"overflow-y-auto max-h-96",children:e.jsxs(l,{striped:!0,children:[e.jsxs(l.Head,{className:"top-0 sticky",children:[e.jsx(l.HeadCell,{children:"Product name"}),e.jsx(l.HeadCell,{children:"Category"}),e.jsx(l.HeadCell,{children:"SRP"}),e.jsx(l.HeadCell,{children:"Retail Price"}),e.jsx(l.HeadCell,{children:"WholeSale Price"}),e.jsx(l.HeadCell,{children:"Quantity"}),e.jsx(l.HeadCell,{children:e.jsx("span",{className:"sr-only",children:"Edit"})})]}),e.jsx(l.Body,{className:"divide-y",children:u.map(s=>e.jsxs(l.Row,{children:[e.jsxs(l.Cell,{children:[e.jsx("div",{className:"font-semibold",children:s.product_name}),e.jsx("div",{className:"text-xs italic",children:s.description})]}),e.jsx(l.Cell,{children:s.category.name}),e.jsx(l.Cell,{children:i(s.price)}),e.jsx(l.Cell,{children:i(s.retail_price)}),e.jsx(l.Cell,{children:i(s.wholesale_price)}),e.jsx(l.Cell,{children:s.quantity}),e.jsx(l.Cell,{children:e.jsx("a",{href:"#",onClick:w(s),className:"font-medium text-cyan-600 hover:underline dark:text-cyan-500",children:"Edit"})})]},"pro"+s.id))}),e.jsxs(l.Head,{className:"sticky bottom-0",children:[e.jsx(l.HeadCell,{}),e.jsx(l.HeadCell,{}),e.jsx(l.HeadCell,{}),e.jsx(l.HeadCell,{}),e.jsx(l.HeadCell,{children:"Total Stocks"}),e.jsx(l.HeadCell,{children:u.reduce((s,d)=>s+d.quantity,0)}),e.jsx(l.HeadCell,{})]})]})})]})})})})]})}export{U as default};

import{r as l,y as H,j as e,a as _}from"./app-YX2pnVqe.js";import{A}from"./AuthenticatedLayout-T02gAssP.js";import{A as D,B as f,d as F,a,L as o,T as u,S as R}from"./Toast-xRRfD0nu.js";import{formatNumber as r}from"./Util-py14zHy8.js";import"./ApplicationLogo-Do7QLHNd.js";import"./index-Nb-1AsgF.js";function G({auth:N,flash:j,categories:y,sales:i}){const C=["All","Daily","Monthly","Yearly"],[h,p]=l.useState(),[x,v]=l.useState(),[d,m]=l.useState(),[n,S]=l.useState(0),[g,b]=l.useState(!1);l.useEffect(()=>{p(new Date().toISOString().split("T")[0]),v(new Date().getMonth()),m(new Date().getFullYear())},[]),l.useEffect(()=>{T()},[h,n,x,d]);const T=()=>{H.reload({data:{date:h,selectedReport:n,month:x,year:d},onStart:()=>{b(!0)},onProgress:s=>{console.log(s)},onFinish:()=>{b(!1)}})},w=()=>{if(n==1)return e.jsxs("div",{className:"mb-2 ",children:[e.jsx("div",{className:"block",children:e.jsx(o,{htmlFor:"date",value:"Date"})}),e.jsx(u,{id:"date",value:h,onChange:s=>{p(s.target.value)},type:"date"})]});if(n==2){const s=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsxs("div",{className:"block",children:[e.jsxs("div",{children:[e.jsx("div",{className:"block",children:e.jsx(o,{htmlFor:"month",value:"Month"})}),e.jsx(R,{id:"month",value:x,onChange:t=>{v(t.target.value)},type:"date",children:s.map((t,c)=>e.jsx("option",{value:c,children:t},c))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"block",children:e.jsx(o,{htmlFor:"year",value:"Year"})}),e.jsx(u,{id:"year",value:d,onChange:t=>{m(t.target.value)}})]})]})}if(n==3)return e.jsxs("div",{className:"mb-2 ",children:[e.jsx("div",{className:"block",children:e.jsx(o,{htmlFor:"year",value:"Year"})}),e.jsx(u,{id:"year",value:d,onChange:s=>{m(s.target.value)}})]})};return e.jsxs(A,{user:N.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Sales Report"}),children:[e.jsx(_,{title:"Dashboard"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[j.message&&e.jsx(D,{color:"success",children:j.message}),e.jsx("div",{className:"flex justify-end",children:e.jsx(f.Group,{children:C.map((s,t)=>e.jsx(f,{onClick:()=>{S(t)},color:n==t?"blue":"info",children:s},"H"+t))})}),w(),e.jsx("hr",{}),g&&e.jsx("div",{className:"flex justify-center",children:e.jsx(F,{className:"h-24 w-24"})}),!g&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 gap-4 pt-2",children:y.map(s=>e.jsxs("div",{className:"mb-5",children:[s.name,e.jsxs(a,{striped:!0,children:[e.jsxs(a.Head,{children:[e.jsx(a.HeadCell,{children:"Product"}),e.jsx(a.HeadCell,{children:"Qty"}),e.jsx(a.HeadCell,{children:"Gross"})]}),e.jsx(a.Body,{children:s.products.map((t,c)=>e.jsxs(a.Row,{className:"text-xs",children:[e.jsx(a.Cell,{children:t.product_name}),e.jsx(a.Cell,{children:t.quantity}),e.jsx(a.Cell,{children:r(t.total_price)})]},"prod"+c))}),e.jsxs(a.Head,{children:[e.jsx(a.HeadCell,{children:"Total"}),e.jsx(a.HeadCell,{children:s.total_quantity}),e.jsx(a.HeadCell,{children:r(s.total_price)})]})]})]},s.id))}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:"text-lg font-semibold uppercase",children:"Summary"}),e.jsx("div",{children:"Total Cash: "+r(i.total_cash)}),e.jsx("div",{children:"Total GCash: "+r(i.total_gcash)}),e.jsx("div",{children:"Total Cheque: "+r(i.total_cheque)}),e.jsx("div",{children:"Total Account Receivable: ("+r(i.total_receivable)+")"}),e.jsx("div",{className:"font-bold text-lg",children:"Total Sales: "+r(i.total_price)})]})]})]})})})})]})}export{G as default};

import{r as l,y as H,j as e,a as R}from"./app-42ltUd7i.js";import{A as _}from"./AuthenticatedLayout-HpqRNAfE.js";import{A,B as b,d as F,a as t,L as o,T as u,S as D}from"./Toast-XrROLtNV.js";import{formatNumber as r}from"./Util-py14zHy8.js";import"./ApplicationLogo-gby87dX6.js";import"./index-770LS76q.js";function G({auth:N,flash:j,categories:y,sales:i}){const C=["All","Daily","Monthly","Yearly"],[h,p]=l.useState(),[x,v]=l.useState(),[d,m]=l.useState(),[n,S]=l.useState(0),[g,f]=l.useState(!1);l.useEffect(()=>{p(new Date().toISOString().split("T")[0]),v(new Date().getMonth()),m(new Date().getFullYear())},[]),l.useEffect(()=>{T()},[h,n,x,d]);const T=()=>{H.reload({data:{date:h,selectedReport:n,month:x,year:d},onStart:()=>{f(!0)},onProgress:s=>{console.log(s)},onFinish:()=>{f(!1)}})},w=()=>{if(n==1)return e.jsxs("div",{className:"mb-2 ",children:[e.jsx("div",{className:"block",children:e.jsx(o,{htmlFor:"date",value:"Date"})}),e.jsx(u,{id:"date",value:h,onChange:s=>{p(s.target.value)},type:"date"})]});if(n==2){const s=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsxs("div",{className:"block",children:[e.jsxs("div",{children:[e.jsx("div",{className:"block",children:e.jsx(o,{htmlFor:"month",value:"Month"})}),e.jsx(D,{id:"month",value:x,onChange:a=>{v(a.target.value)},type:"date",children:s.map((a,c)=>e.jsx("option",{value:c,children:a},c))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"block",children:e.jsx(o,{htmlFor:"year",value:"Year"})}),e.jsx(u,{id:"year",value:d,onChange:a=>{m(a.target.value)}})]})]})}if(n==3)return e.jsxs("div",{className:"mb-2 ",children:[e.jsx("div",{className:"block",children:e.jsx(o,{htmlFor:"year",value:"Year"})}),e.jsx(u,{id:"year",value:d,onChange:s=>{m(s.target.value)}})]})};return e.jsxs(_,{user:N.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Sales Report"}),children:[e.jsx(R,{title:"Reports"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[j.message&&e.jsx(A,{color:"success",children:j.message}),e.jsx("div",{className:"flex justify-end",children:e.jsx(b.Group,{children:C.map((s,a)=>e.jsx(b,{onClick:()=>{S(a)},color:n==a?"blue":"info",children:s},"H"+a))})}),w(),e.jsx("hr",{}),g&&e.jsx("div",{className:"flex justify-center",children:e.jsx(F,{className:"h-24 w-24"})}),!g&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 gap-4 pt-2",children:y.map(s=>e.jsxs("div",{className:"mb-5",children:[s.name,e.jsxs(t,{striped:!0,children:[e.jsxs(t.Head,{children:[e.jsx(t.HeadCell,{children:"Product"}),e.jsx(t.HeadCell,{children:"Qty"}),e.jsx(t.HeadCell,{children:"Gross"})]}),e.jsx(t.Body,{children:s.products.map((a,c)=>e.jsxs(t.Row,{className:"text-xs",children:[e.jsx(t.Cell,{children:a.product_name}),e.jsx(t.Cell,{children:a.quantity}),e.jsx(t.Cell,{children:r(a.total_price)})]},"prod"+c))}),e.jsxs(t.Head,{children:[e.jsx(t.HeadCell,{children:"Total"}),e.jsx(t.HeadCell,{children:s.total_quantity}),e.jsx(t.HeadCell,{children:r(s.total_price)})]})]})]},s.id))}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:"text-lg font-semibold uppercase",children:"Summary"}),e.jsx("div",{children:"Total Cash: "+r(i.total_cash)}),e.jsx("div",{children:"Total GCash: "+r(i.total_gcash)}),e.jsx("div",{children:"Total Cheque: "+r(i.total_cheque)}),e.jsx("div",{children:"Total Account Receivable: ("+r(i.total_receivable)+")"}),e.jsx("div",{className:"font-bold text-lg",children:"Total Sales: "+r(i.total_price)})]})]})]})})})})]})}export{G as default};
